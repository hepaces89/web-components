//
// Home
//

.home {
  .jumbotron {
    text-align: center;
    color: $white;
    padding-top: 47px; // 64px
    padding-bottom: 26px; // 32px
    margin-bottom: 0;

    @include media-breakpoint-up("md") {
      padding-top: 101px; // 128px
      padding-bottom: 282px; // 192px + 96px
      background: image-url("home/jumbotron.svg") no-repeat center 18px $jumbotron-bg; // top without zotero-bib hint
    }

    .display-1 {
      margin-bottom: 12px; // 32px
      -moz-osx-font-smoothing: grayscale;
      -webkit-font-smoothing: antialiased;

      @include media-breakpoint-up("md") {
        margin-bottom: 23px; // 48px
      }
    }

    .lead {
      margin: 0 auto 24px; // 32px
      max-width: 380px;

      @include media-breakpoint-up("md") {
        margin-bottom: 38px; // 48px
        max-width: none;
      }
    }

    .download {
      margin-bottom: 20px; // 14px blank line in draft
    }

    .platforms {
      font-size: $font-size-sm;
      margin-bottom: 0;
    }

    .zotero-bib {
      font-size: $font-size-sm;
      margin-top: $font-size-sm;

      @include media-breakpoint-down("sm") {
        display: none;
      }

      a {
        color: inherit;
        text-decoration: underline;
      }
    }
  }

  .section-screenshot {
    background: $jumbotron-bg;
    padding-bottom: $spacer-xxxl;

    @include media-breakpoint-up("md") {
      margin-top: -12rem; // -192px
      background: none;
      padding-bottom: 0;
    }
  }

  .screenshot {
    margin: 0;
  }

  .section-md {
    @include media-breakpoint-down("sm") {
      padding-bottom: rem(26);
    }

    &.last {
      @include media-breakpoint-down("sm") {
        padding-bottom: rem(58);
      }
    }
  }

  .page-header {
    @include media-breakpoint-up("md") {
      margin: 133px 0 67px; // 160px
    }
  }

  .features {
    .feature-col {
      &.left {
        @include media-breakpoint-up("lg") {
          padding-right: 25px;
        }

        @include media-breakpoint-up("xl") {
          padding-right: $spacer-xxl - $spacer-xs;
        }
      }

      &.right {
        @include media-breakpoint-up("lg") {
          padding-left: 25px;
        }

        @include media-breakpoint-up("xl") {
          padding-left: $spacer-xxl - $spacer-xs;
        }
      }
    }

    .illu-container,
    img,
    svg {
      @include media-breakpoint-only("xs") {
        max-width: rem(200);
      }

      @include media-breakpoint-only("sm") {
        max-width: rem(336);
      }

      @include media-breakpoint-down("sm") {
        margin-bottom: rem(34);
      }
    }

    // Older versions of Safari and Mobile Safari don’t render the height of
    // responsive inline SVGs correctly, that’s why we need the container
    // padding hack.
    .illu-container {
      margin-left: auto;
      margin-right: auto;
      position: relative;

      svg {
        position: absolute;
        left: 0;
        top: 0;
        // Do not set width for crisp rendering quality
        max-width: 100%; // Like img-fluid, needed for bp md
        height: 100%;
      }
    }

    p {
      @include media-breakpoint-up("md") {
        font-size: 1.125rem;
        line-height: $line-height-lg;
      }
    }
  }

  .collect-animation {
    @include media-breakpoint-down("md") {
      padding-top: (rem(336) * 441 / 444);
      margin-top: rem(-46);
    }

    @include media-breakpoint-down("xs") {
      padding-top: (rem(200) * 441 / 444);
      margin-top: rem(-27);
    }

    @include media-breakpoint-up("lg") {
      padding-top: rem(441);
      margin-top: rem(-61);
    }

    svg {
      overflow: visible;
    }
  }

  .illu-sync {
    img {
      width: rem(336);
      height: auto;
    }

    @include media-breakpoint-only("xs") {
      img {
        max-width: rem(220);
      }
    }

    @include media-breakpoint-only("lg") {
      margin: 0 rem(-20);

      img {
        width: rem(484);
        height: rem(336);
      }
    }

    @include media-breakpoint-only("xl") {
      margin: 0 rem(-50);

      img {
        width: rem(544);
        height: rem(336);
      }
    }
  }

  .call-to-action {
    @include media-breakpoint-down("sm") {
      padding-top: rem(18);
    }

    .display-2 {
      margin-bottom: rem(22);

      @include media-breakpoint-up(md) {
        margin: 0;
      }
    }
  }
}
